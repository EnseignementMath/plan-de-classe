<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Plan de classe interactif</title>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    h1 { text-align: center; margin-bottom: 30px; }
    .cases { display: flex; flex-direction: column; gap: 18px; }
    .case-container { display: flex; background: #87CEEB; border-radius: 5px; overflow: hidden; }
    .subcase {
      flex: 1;
      padding: 8px;
      border-right: 1px solid rgba(255,255,255,.7);
      cursor: pointer;
      transition: background-color .3s, color .3s;
      min-width: 120px;
      width: fit-content;
      max-width: 260px;
      word-break: break-word;
      white-space: normal;
      display: flex;
      align-items: center;
      justify-content: center;
      background: inherit;
    }
    .subcase:last-child { border-right: none; }
    .subcase.selected { background: #006400; color: #fff; }
    .header { display: flex; align-items: center; gap: 6px; }
    .toggle { cursor: pointer; }
    .title { font-weight: bold; font-size: 1.2em; word-break: break-word; }
    .subcase:empty, .title:empty { display: none !important; }
  </style>
</head>
<body>

<h1>Plan de classe interactif</h1>
<div class="cases" id="cases"></div>

<script>
// Déclare ta matrice ici (exemple)
const matrice = [
  ["AÏT BOUAOUNE Aya", "Roua"],
  ["Mohamed", "Maryam"],
  ["Merve", "Néhémie"],
  ["Nemaaly", "Théo"],
  ["Mathys", "Sheldon"],
  ["Inahya", "Sam Ismaël"],
  ["Aissa", "Carlos"],
  ["Malone", "Raphaël"],
  ["Nour", "Jilyan"],
  ["Ismael", "Inès"]
];
// Tu peux mettre autant de lignes et de colonnes que tu veux !
// Exemple simple : const matrice = [["Ninon","Rudy"],["Estelle","Marc"]];

// Génération automatique de la grille
function genererPlan() {
  const casesEl = document.getElementById('cases');
  casesEl.innerHTML = '';
  let num = 1;
  matrice.forEach(ligne => {
    const cont = document.createElement('div');
    cont.className = 'case-container';
    ligne.forEach(prenom => {
      if (!prenom) return; // saute les cases vides
      const sc = document.createElement('div');
      sc.className = 'subcase';
      sc.dataset.case = num;

      // Titre AVEC le prénom
      const header = document.createElement('div');
      header.className = 'header';
      const toggle = document.createElement('input');
      toggle.type = 'checkbox';
      toggle.className = 'toggle';
      toggle.dataset.case = num;
      const title = document.createElement('span');
      title.className = 'title';
      title.textContent = prenom;
      header.append(toggle, title);
      sc.append(header);

      cont.append(sc);
      num++;
    });
    casesEl.append(cont);
  });

  // Ajoute la sélection de présence
  document.querySelectorAll('.subcase').forEach(sc => {
    sc.addEventListener('click', e => {
      if (e.target.tagName === 'INPUT') return;
      sc.classList.toggle('selected');
    });
  });
}

genererPlan();
</script>

</body>
</html>
